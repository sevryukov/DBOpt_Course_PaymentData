
- [x] *Ознакомиться с документом, описывающим формулы расчёта баланса и примером его изменения*
- [x] *Ознакомиться со скриптом создания базы данных*
- [x] *Ознакомиться с программными компонентами (функции, триггера)*

- [x] *Разработать и применить генератор тестовых данных*

Для генерации данных был использован инструмент RedGate SQL Data Generator 4.

Генерация данных производилась в 2 этапа.
На первом этапе вносились данные в таблицы Bank, Cashbox, Client, Employee, PaymentParticipant, Project, Supplier. Используемое программное обеспечение достаточно хорошо 
определило ограничения и подобрало соответствующие типы данных для генерации значений большинства столбцов. Однако потребовалась ручная донастройка для некоторых столбцов. 
Среди важных изменений была установка NULL значений для столбцов с названием GCRecord. Остальные изменения носили скорее опциональный характер, так как не влияли на 
дальнейшие шаги при оптимизации базы данных. Баланс всех участников в таблице PaymentParticipant был установлен равным 0.

На втором этапе была заполнена таблица Payment. Непосредственно до и после генерации данных в таблицу Payment была произведена проверка балансов всех участников, 
чтобы удостовериться, в том, что после вставки новых записей в таблицу Payment происходит обновление балансов участников. В таблицы Bank, Cashbox было добавлено 
по 100 записей, в таблицу Payment - 10 000 записей, в остальные по 1000. Такие оценка количества записей было сделана на основе интуитивного понимания
предметной области (банков и касс должно быть меньше чем клиентов, поставщиков, а платежей должно быть существенно больше чем клиентов).

- [x] *Разработать простой тест на корректность расчёта баланса*
Далее был разработан тест на корректность расчета баланса. Тест использует пример расчета, приведенный в файле *balance description*  (таблица “Порядок платежей и расчёт 
балансов”). Соответственно, общий порядок действий выглядит следующим образом:
1. Выбор случайных идентификаторов банка, кассы, клиента и поставщика
2. Получение их балансов при помощи таблицы PaymentParticipant
3. Выбор категории платежа, соответствующей авансовому взносу на приобретение материалов (первая строка таблицы)
4. Вставка нового платежа в таблицу Payment с использованием значений из предыдущих пунктов
5. Подсчет и вывод разницы между значениями балансов до операции вставки и проверка ее соответствия значениям в таблице
6. Повтор шагов 2-6 для остальных строк таблицы.

Операция обновления балансов вынесена в отдельную хранимую процедуру set_balances. Операция подсчета разницы балансов реализована в функции check_balances_diff.
